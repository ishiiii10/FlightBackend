server.port=8080
spring.application.name=APIGATEWAY




# =========================
# JWT  (MUST MATCH AUTH-SERVICE)
# =========================
jwt.secret=this_is_a_very_long_and_secure_jwt_secret_key_1234567890
jwt.expiration-ms=3600000

# =========================
# Eureka
# =========================
eureka.client.service-url.defaultZone=http://localhost:8761/eureka
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.instance.prefer-ip-address=true
eureka.instance.hostname=localhost
eureka.instance.ip-address=127.0.0.1

# =========================
# Config Server
# =========================


# =========================
# Spring Cloud Gateway (REACTIVE)
# =========================


# -------- FLIGHT SERVICE --------
spring.cloud.gateway.routes[0].id=flightservice
spring.cloud.gateway.routes[0].uri=lb://FLIGHTSERVICE
spring.cloud.gateway.routes[0].predicates[0]=Path=/flights/**

# -------- AUTH SERVICE --------
spring.cloud.gateway.routes[1].id=authservice
spring.cloud.gateway.routes[1].uri=lb://AUTHSERVICE
spring.cloud.gateway.routes[1].predicates[0]=Path=/auth/**

# -------- BOOKING SERVICE --------
spring.cloud.gateway.routes[2].id=bookingservice
spring.cloud.gateway.routes[2].uri=lb://BOOKINGSERVICE
spring.cloud.gateway.routes[2].predicates[0]=Path=/bookings/**

# =========================
# Logging
# =========================
logging.level.org.springframework.cloud.gateway=DEBUG
logging.level.org.springframework.cloud.loadbalancer=DEBUG
spring.cloud.loadbalancer.enabled=true

spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowedOrigins=http://localhost:4200
spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowedMethods=GET,POST,PUT,DELETE,OPTIONS
spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowedHeaders=*
spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowCredentials=true
spring.cloud.gateway.globalcors.add-to-simple-url-handler-mapping=true

