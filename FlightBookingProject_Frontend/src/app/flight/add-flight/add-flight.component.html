<div class="form-section">
  <div class="card" style="max-width:720px;">
    <div class="add-header">Add Flight</div>

    <form (ngSubmit)="onSubmit(flightForm)" #flightForm="ngForm" class="add-form">

      <div class="form-group">
        <label class="form-label">Flight Number</label>
        <input class="form-input" required [(ngModel)]="formData.flightNumber" name="flightNumber">
      </div>

      <div class="form-group">
        <label class="form-label">Airline</label>
        <select class="form-input" required [(ngModel)]="formData.airline" name="airline">
          <option value="">Select</option>
          <option *ngFor="let a of airlines" [value]="a">{{ a }}</option>
        </select>
      </div>

      <div class="inline-row">
        <div class="form-group field-half">
          <label class="form-label">Source</label>
          <select class="form-input" required [(ngModel)]="formData.source" name="source" (change)="onSourceChange()">
            <option value="">Select</option>
            <option *ngFor="let c of cities" [value]="c" [disabled]="c === formData.destination">{{ c }}</option>
          </select>
        </div>

        <div class="form-group field-half">
          <label class="form-label">Destination</label>
          <select class="form-input" required [(ngModel)]="formData.destination" name="destination">
            <option value="">Select</option>
            <option *ngFor="let c of cities" [value]="c" [disabled]="c === formData.source">{{ c }}</option>
          </select>
        </div>
      </div>

      <div class="inline-row">
        <div class="form-group field-half">
          <label class="form-label">Departure Time</label>
          <input class="form-input" type="datetime-local" required [(ngModel)]="formData.departureTime" name="departureTime" [min]="minDeparture">
        </div>

        <div class="form-group field-half">
          <label class="form-label">Arrival Time</label>
          <input class="form-input" type="datetime-local" required [(ngModel)]="formData.arrivalTime" name="arrivalTime">
        </div>
      </div>

      <div class="inline-row">
        <div class="form-group field-half">
          <label class="form-label">Total Seats</label>
          <input class="form-input" type="number" required [(ngModel)]="formData.totalSeats" name="totalSeats">
        </div>

        
      </div>

      <div class="form-group">
        <label class="form-label">Price</label>
        <input class="form-input" type="number" required [(ngModel)]="formData.price" name="price">
        <div class="helper-text">Set ticket price in the default currency.</div>
      </div>

      <div class="actions">
        <button type="submit" class="btn-primary" [disabled]="loading || !flightForm.valid">{{ loading ? 'Adding...' : 'Add Flight' }}</button>
        <button type="button" class="btn-cancel" (click)="goToAdmin()">Cancel</button>
      </div>

      <div class="alert alert-success mt-3" *ngIf="successMessage">{{ successMessage }}</div>
      <div class="alert alert-danger mt-3" *ngIf="errorMessage">{{ errorMessage }}</div>

    </form>
  </div>

  <div class="promo-content" style="max-width:360px; margin-left:1.5rem;">
    <h2>Manage Flights</h2>
    <p class="promo-text">Add new flights to your inventory. Provide accurate schedule, seat counts and pricing so customers can book seamlessly.</p>
    <ul class="promo-features">
      <li>Specify departure & arrival times</li>
      <li>Control seat availability</li>
      <li>Set competitive pricing</li>
    </ul>
    
  </div>

  

</div>