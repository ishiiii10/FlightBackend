<div class="container">
  <div class="two-column">
    <!-- Left: Search Form -->
    <div class="form-section">
      <div class="card">
        <p class="search-header">Find the craziest routes and best fares in seconds.</p>
        
        <form (ngSubmit)="onSearch()" class="search-form">
          <div class="form-group">
            <label class="form-label" for="source">From</label>
            <input 
              type="text" 
              id="source" 
              class="form-input" 
              [(ngModel)]="searchData.source"
              name="source"
              placeholder="City or airport (e.g., DELHI, MUMBAI)"
              required
            />
            <small class="form-hint">Available: DELHI, MUMBAI, BANGALORE, CHENNAI, KOLKATA, HYDERABAD, PUNE, JAIPUR</small>
          </div>

          <div class="form-group">
            <label class="form-label" for="destination">To</label>
            <input 
              type="text" 
              id="destination" 
              class="form-input" 
              [(ngModel)]="searchData.destination"
              name="destination"
              placeholder="City or airport (e.g., MUMBAI, DELHI)"
              required
            />
            <small class="form-hint">Available: DELHI, MUMBAI, BANGALORE, CHENNAI, KOLKATA, HYDERABAD, PUNE, JAIPUR</small>
          </div>

          <div class="form-group">
            <label class="form-label" for="date">Date</label>
            <div class="date-input-wrapper">
              <input 
                type="date" 
                id="date" 
                class="form-input" 
                [(ngModel)]="searchData.date"
                name="date"
                [min]="today"
                required
              />
              <span class="calendar-icon">ðŸ“…</span>
            </div>
          </div>

          <button type="submit" class="btn-primary">Search flights</button>

          <div *ngIf="!flights.length && !loading && hasSearched" class="no-flights-message">
            No flights found yet. Try searching a funky route.
          </div>

          <div *ngIf="errorMessage" class="error-message">
            {{ errorMessage }}
          </div>
        </form>
      </div>
    </div>

    <!-- Right: Available Flights -->
    <div class="results-section">
      <div *ngIf="loading" class="loading">
        <p>Searching flights...</p>
      </div>

      <div *ngIf="!loading && flights.length > 0" class="flight-results">
        <div class="results-header">
          <h2>Available Flights</h2>
        </div>
        <div class="flight-cards">
          <div *ngFor="let flight of flights" class="flight-card" (click)="selectFlight(flight)">
            <div class="flight-header">
              <span class="airline">{{ flight.airline }}</span>
              <span class="flight-number">{{ flight.flightNumber }}</span>
            </div>
            <div class="flight-route">
              <div class="route-item">
                <span class="route-label">From</span>
                <span class="route-value">{{ flight.source }}</span>
              </div>
              <div class="route-arrow">â†’</div>
              <div class="route-item">
                <span class="route-label">To</span>
                <span class="route-value">{{ flight.destination }}</span>
              </div>
            </div>
            <div class="flight-details">
              <div class="detail-item">
                <span class="detail-label">Departure</span>
                <span class="detail-value">{{ formatDateTime(flight.departureTime) }}</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Arrival</span>
                <span class="detail-value">{{ formatDateTime(flight.arrivalTime) }}</span>
              </div>
            </div>
            <div class="flight-footer">
              <div class="seats-available">
                <span>{{ flight.availableSeats }} seats available</span>
              </div>
              <div class="price">
                <span class="currency">â‚¹</span>
                <span class="amount">{{ flight.price }}</span>
              </div>
            </div>
            <button class="btn-book" (click)="bookFlight(flight); $event.stopPropagation()">
              Book Now
            </button>
          </div>
        </div>
      </div>

      <div *ngIf="!loading && !hasSearched" class="promo-content">
        <h2>Catch your next cloud-hop</h2>
        <p class="promo-text">
          NimbusAir scans routes across the globe so you can jump between cities, 
          coasts and crazy layovers in a few clicks.
        </p>
        <ul class="promo-features">
          <li>Instant results across popular and off-beat routes</li>
          <li>Clean, distraction-free search experience</li>
          <li>Perfect for spontaneous, last-minute adventures</li>
        </ul>
        <div class="airplane-illustration">
          <svg width="200" height="120" viewBox="0 0 200 120" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20 60 L180 60" stroke="var(--lighter-blue)" stroke-width="2"/>
            <path d="M40 50 Q50 40 60 50 Q70 60 80 50 Q90 40 100 50 Q110 60 120 50 Q130 40 140 50 Q150 60 160 50" 
                  stroke="var(--lighter-blue)" stroke-width="2" fill="none"/>
            <circle cx="30" cy="60" r="3" fill="var(--lighter-blue)"/>
            <circle cx="50" cy="60" r="3" fill="var(--lighter-blue)"/>
            <circle cx="70" cy="60" r="3" fill="var(--lighter-blue)"/>
            <circle cx="90" cy="60" r="3" fill="var(--lighter-blue)"/>
            <circle cx="110" cy="60" r="3" fill="var(--lighter-blue)"/>
            <path d="M10 60 L20 55 L20 65 Z" fill="var(--lighter-blue)"/>
            <path d="M180 60 L190 55 L190 65 Z" fill="var(--lighter-blue)"/>
          </svg>
        </div>
      </div>
    </div>
  </div>
</div>
